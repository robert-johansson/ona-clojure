# GraalVM Native Image build configuration for ONA Clojure

# Enable all features needed for Clojure
Args = --initialize-at-build-time \
       --report-unsupported-elements-at-runtime \
       --verbose \
       --no-fallback \
       --no-server \
       -H:+ReportExceptionStackTraces \
       -H:+PrintClassInitialization \
       --enable-url-protocols=http,https \
       --allow-incomplete-classpath

# Reflection configuration
Args = -H:ReflectionConfigurationFiles=${.}/reflect-config.json

# Memory settings
Args = -J-Xmx4g

# Optimization
Args = -O2

# Static linking (optional, for fully standalone binary)
# Args = --static --libc=musl
