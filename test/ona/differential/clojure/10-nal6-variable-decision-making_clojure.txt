OpenNARS for Applications (Clojure)
Type Narsese or commands. Use 'quit' to exit.
// Test: NAL-6 Variable-Based Decision Making
// Tests: Variable unification in backward chaining, goal decomposition
//
// Expected behavior:
// - Learn: <key-pressed =/> $1-opened>
// - Goal: garage-opened!
// - Derive subgoal: key-pressed! (via substitution $1←garage)
// cycle
// cycle
// Learn pattern: pressing key opens things
Input: <key-pressed --> action>. :|: {1.000000 0.900000}
// executing 2 cycles
done with 2 additional inference steps.
Input: <door-opened --> state>. :|: {1.000000 0.900000}
// executing 10 cycles
done with 10 additional inference steps.
// cycle
// Check implication learned
//*concepts
//term: (<key-pressed --> action> &/ <door-opened --> state>) { "priority": 0.60, "usefulness": 0.50, "useCount": 1, "lastUsed": 4, "frequency": 1.00, "confidence": 0.79, "termlinks": []}
//term: door-opened { "priority": 0.60, "usefulness": 0.50, "useCount": 2, "lastUsed": 4, "frequency": 1.00, "confidence": 0.90, "termlinks": []}
//term: key-pressed { "priority": 0.60, "usefulness": 0.50, "useCount": 1, "lastUsed": 1, "frequency": 1.00, "confidence": 0.90, "termlinks": []}
//*done
// cycle
// Now desire garage opened (should match with $1←garage)
Input: <garage-opened --> state>! {1.000000 0.900000}
^debug[process-goal-events]: Processing 1 goal(s)
^debug[process-goal-events]:   Goal: <garage-opened --> state>
^debug[suggest-decision]: CALLED for goal <garage-opened --> state>
^debug[find-matching-implications]: Goal = <garage-opened --> state>
^debug[find-matching-implications]: Scanning 4 concepts
^debug[find-matching-implications]: Found 0 matching implications
^debug[process-goal-events]: Decision for <garage-opened --> state>
^debug[process-goal-events]:   Desire: 0.000
^debug[process-goal-events]:   Execute?: false
^subgoal: desire too low (0.00)
// executing 5 cycles
done with 5 additional inference steps.
// cycle
// Should derive: key-pressed! as subgoal
//*concepts
//term: (<key-pressed --> action> &/ <door-opened --> state>) { "priority": 0.60, "usefulness": 0.50, "useCount": 1, "lastUsed": 4, "frequency": 1.00, "confidence": 0.79, "termlinks": []}
//term: door-opened { "priority": 0.60, "usefulness": 0.50, "useCount": 2, "lastUsed": 4, "frequency": 1.00, "confidence": 0.90, "termlinks": []}
//term: garage-opened { "priority": 0.60, "usefulness": 0.50, "useCount": 1, "lastUsed": 15, "frequency": 1.00, "confidence": 0.90, "termlinks": []}
//term: key-pressed { "priority": 0.60, "usefulness": 0.50, "useCount": 1, "lastUsed": 1, "frequency": 1.00, "confidence": 0.90, "termlinks": []}
//*done
//*stats
Statistics
----------
currentTime:                    20
total concepts:                 4
current belief events cnt:      0
current goal events cnt:        0
current average concept priority: 0.600000
//*done
// cycle
// Expected:
// - Implication: <key-pressed =/> $1-opened>
// - Substitution: $1←garage
// - Subgoal: key-pressed!
